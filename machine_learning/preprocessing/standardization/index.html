<!DOCTYPE html>
<html lang="en">

<head>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66582-32"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-66582-32');
    </script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Standardization" />
<meta property="og:description" content="Standardizing your data before starting in on machine learning routines is paramount. Not only does it allow your algorithms to converge faster (by delta&rsquo;ing over a much narrower scope of data), but it also prevents any features scaled arbitrarily larger from having an inflated weight on whatever your model winds up learning.
E.g. a &ldquo;0, 1, 2 car garage&rdquo; probably has more predictive power on a home value than &ldquo;0-10,000&rdquo; jelly beans could fit in the master bathtub." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://napsterinblue.github.io/notes/machine_learning/preprocessing/standardization/" />



<meta property="article:published_time" content="2018-05-29T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-05-29T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Standardization"/>
<meta name="twitter:description" content="Standardizing your data before starting in on machine learning routines is paramount. Not only does it allow your algorithms to converge faster (by delta&rsquo;ing over a much narrower scope of data), but it also prevents any features scaled arbitrarily larger from having an inflated weight on whatever your model winds up learning.
E.g. a &ldquo;0, 1, 2 car garage&rdquo; probably has more predictive power on a home value than &ldquo;0-10,000&rdquo; jelly beans could fit in the master bathtub."/>
<meta name="generator" content="Hugo 0.40.3" />

    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Standardization",
  "url": "https://napsterinblue.github.io/notes/machine_learning/preprocessing/standardization/",
  "wordCount": "1182",
  "datePublished": "2018-05-29T00:00:00&#43;00:00",
  "dateModified": "2018-05-29T00:00:00&#43;00:00",
  "author": {
    "@type": "Person",
    "name": ""
  }
}
</script> 

    <title>Standardization</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">

    
    <link href="https://napsterinblue.github.io/notes/css/custom.css" rel="stylesheet">
    <link href="https://napsterinblue.github.io/notes/css/syntax.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,500,700" rel="stylesheet">

    <link href="" rel="alternate" type="application/rss+xml" title="Data Science Notes" />

    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</head>

<body>

    <nav class="navbar navbar-expand-sm fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="https://napsterinblue.github.io">Movies, Metrics, Musings</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav mr-auto"></ul>
                <ul class="nav navbar-nav">
                    <li><a href="https://napsterinblue.github.io/pages/about.html" title="About">About</a></li>
                    <li><a href="https://napsterinblue.github.io/archives.html" title="Archive">Archive</a></li>
                    <li><a href="https://napsterinblue.github.io/pages/resources.html" title="Resources">Resources</a></li>
                    <li><a href="https://napsterinblue.github.io/notes/" title="Notes">My Notes</a></li>

                </ul>
            </div>
        </div>
    </nav>


    
    <div class="container">
        <div class="row">
            <div class="col-sm-12">

                 


<article>
  <div class="technical_note">
  <header>
    <h1 class="technical_note_title">Standardization</h1>
    <div class="technical_note_date">
      <time datetime=" 2018-05-29T00:00:00Z "> 29 May 2018</time>
    </div>
  </header>
  <div class="content">
  

<p>Standardizing your data before starting in on machine learning routines is paramount. Not only does it allow your algorithms to converge faster (by delta&rsquo;ing over a much narrower scope of data), but it also prevents any features scaled arbitrarily larger from having an inflated weight on whatever your model winds up learning.</p>

<p>E.g. a &ldquo;0, 1, 2 car garage&rdquo; probably has more predictive power on a home value than &ldquo;0-10,000&rdquo; jelly beans could fit in the master bathtub. Probably.</p>

<h2 id="getting-the-data">Getting the Data</h2>

<p>Loading one of the gimmie datasets from <code>scikitlearn</code></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span></code></pre></div>
<p>Stuffing into a <code>pandas DataFrame</code> for easier inspection</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;feature_names&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CRIM</th>
      <th>ZN</th>
      <th>INDUS</th>
      <th>CHAS</th>
      <th>NOX</th>
      <th>RM</th>
      <th>AGE</th>
      <th>DIS</th>
      <th>RAD</th>
      <th>TAX</th>
      <th>PTRATIO</th>
      <th>B</th>
      <th>LSTAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00632</td>
      <td>18.0</td>
      <td>2.31</td>
      <td>0.0</td>
      <td>0.538</td>
      <td>6.575</td>
      <td>65.2</td>
      <td>4.0900</td>
      <td>1.0</td>
      <td>296.0</td>
      <td>15.3</td>
      <td>396.90</td>
      <td>4.98</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.02731</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>6.421</td>
      <td>78.9</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>396.90</td>
      <td>9.14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.02729</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>7.185</td>
      <td>61.1</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>392.83</td>
      <td>4.03</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.03237</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>6.998</td>
      <td>45.8</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>394.63</td>
      <td>2.94</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.06905</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>7.147</td>
      <td>54.2</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>396.90</td>
      <td>5.33</td>
    </tr>
  </tbody>
</table>
</div>

<p>And if you look at each attribute, there&rsquo;s a huge spread of:</p>

<ul>
<li>Relative difference between max and min</li>
<li>Numeric scale of the attribute</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>max</th>
      <th>min</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CRIM</th>
      <td>88.9762</td>
      <td>0.00632</td>
    </tr>
    <tr>
      <th>ZN</th>
      <td>100.0000</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>INDUS</th>
      <td>27.7400</td>
      <td>0.46000</td>
    </tr>
    <tr>
      <th>CHAS</th>
      <td>1.0000</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>NOX</th>
      <td>0.8710</td>
      <td>0.38500</td>
    </tr>
    <tr>
      <th>RM</th>
      <td>8.7800</td>
      <td>3.56100</td>
    </tr>
    <tr>
      <th>AGE</th>
      <td>100.0000</td>
      <td>2.90000</td>
    </tr>
    <tr>
      <th>DIS</th>
      <td>12.1265</td>
      <td>1.12960</td>
    </tr>
    <tr>
      <th>RAD</th>
      <td>24.0000</td>
      <td>1.00000</td>
    </tr>
    <tr>
      <th>TAX</th>
      <td>711.0000</td>
      <td>187.00000</td>
    </tr>
    <tr>
      <th>PTRATIO</th>
      <td>22.0000</td>
      <td>12.60000</td>
    </tr>
    <tr>
      <th>B</th>
      <td>396.9000</td>
      <td>0.32000</td>
    </tr>
    <tr>
      <th>LSTAT</th>
      <td>37.9700</td>
      <td>1.73000</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="approaches">Approaches</h2>

<p>And so we have two ways of resolving this data imbalance.</p>

<h3 id="normalization">Normalization</h3>

<p>This is essentially ensuring that each column will have values between <code>0</code> and <code>1</code>.</p>

<p>We achieve this by finding out the range of values for each column</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">spread</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="nb">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="nb">min</span><span class="p">()</span>
<span class="n">spread</span></code></pre></div>
<pre><code>CRIM        88.96988
ZN         100.00000
INDUS       27.28000
CHAS         1.00000
NOX          0.48600
RM           5.21900
AGE         97.10000
DIS         10.99690
RAD         23.00000
TAX        524.00000
PTRATIO      9.40000
B          396.58000
LSTAT       36.24000
dtype: float64
</code></pre>

<p>And then, per row, subtracting the minimum value and then dividing by that spread.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">normed_df</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="nb">min</span><span class="p">())</span> <span class="o">/</span> <span class="n">spread</span>
<span class="n">normed_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CRIM</th>
      <th>ZN</th>
      <th>INDUS</th>
      <th>CHAS</th>
      <th>NOX</th>
      <th>RM</th>
      <th>AGE</th>
      <th>DIS</th>
      <th>RAD</th>
      <th>TAX</th>
      <th>PTRATIO</th>
      <th>B</th>
      <th>LSTAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>0.18</td>
      <td>0.067815</td>
      <td>0.0</td>
      <td>0.314815</td>
      <td>0.577505</td>
      <td>0.641607</td>
      <td>0.269203</td>
      <td>0.000000</td>
      <td>0.208015</td>
      <td>0.287234</td>
      <td>1.000000</td>
      <td>0.089680</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000236</td>
      <td>0.00</td>
      <td>0.242302</td>
      <td>0.0</td>
      <td>0.172840</td>
      <td>0.547998</td>
      <td>0.782698</td>
      <td>0.348962</td>
      <td>0.043478</td>
      <td>0.104962</td>
      <td>0.553191</td>
      <td>1.000000</td>
      <td>0.204470</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.000236</td>
      <td>0.00</td>
      <td>0.242302</td>
      <td>0.0</td>
      <td>0.172840</td>
      <td>0.694386</td>
      <td>0.599382</td>
      <td>0.348962</td>
      <td>0.043478</td>
      <td>0.104962</td>
      <td>0.553191</td>
      <td>0.989737</td>
      <td>0.063466</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000293</td>
      <td>0.00</td>
      <td>0.063050</td>
      <td>0.0</td>
      <td>0.150206</td>
      <td>0.658555</td>
      <td>0.441813</td>
      <td>0.448545</td>
      <td>0.086957</td>
      <td>0.066794</td>
      <td>0.648936</td>
      <td>0.994276</td>
      <td>0.033389</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.000705</td>
      <td>0.00</td>
      <td>0.063050</td>
      <td>0.0</td>
      <td>0.150206</td>
      <td>0.687105</td>
      <td>0.528321</td>
      <td>0.448545</td>
      <td>0.086957</td>
      <td>0.066794</td>
      <td>0.648936</td>
      <td>1.000000</td>
      <td>0.099338</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">normed_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>min</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CRIM</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>ZN</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>INDUS</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>CHAS</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>NOX</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>RM</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>AGE</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>DIS</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>RAD</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>TAX</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>PTRATIO</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>B</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>LSTAT</th>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<p>However, this handles outlier data&hellip; poorly</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="o">%</span><span class="n">pylab</span> <span class="n">inline</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">normed_df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span></code></pre></div>
<pre><code>Populating the interactive namespace from numpy and matplotlib
</code></pre>

<p><img src="standardization_18_1.png" alt="png" /></p>

<h3 id="standardization">Standardization</h3>

<p>Instead, we&rsquo;ll try <em>standardization</em>, which substracts the mean from each value and then divides by the standard deviation.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">means</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">means</span></code></pre></div>
<pre><code>CRIM         3.593761
ZN          11.363636
INDUS       11.136779
CHAS         0.069170
NOX          0.554695
RM           6.284634
AGE         68.574901
DIS          3.795043
RAD          9.549407
TAX        408.237154
PTRATIO     18.455534
B          356.674032
LSTAT       12.653063
dtype: float64
</code></pre>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">stand_df</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span> <span class="o">-</span> <span class="n">means</span><span class="p">)</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">stand_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CRIM</th>
      <th>ZN</th>
      <th>INDUS</th>
      <th>CHAS</th>
      <th>NOX</th>
      <th>RM</th>
      <th>AGE</th>
      <th>DIS</th>
      <th>RAD</th>
      <th>TAX</th>
      <th>PTRATIO</th>
      <th>B</th>
      <th>LSTAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.417300</td>
      <td>0.284548</td>
      <td>-1.286636</td>
      <td>-0.272329</td>
      <td>-0.144075</td>
      <td>0.413263</td>
      <td>-0.119895</td>
      <td>0.140075</td>
      <td>-0.981871</td>
      <td>-0.665949</td>
      <td>-1.457558</td>
      <td>0.440616</td>
      <td>-1.074499</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414859</td>
      <td>-0.487240</td>
      <td>-0.592794</td>
      <td>-0.272329</td>
      <td>-0.739530</td>
      <td>0.194082</td>
      <td>0.366803</td>
      <td>0.556609</td>
      <td>-0.867024</td>
      <td>-0.986353</td>
      <td>-0.302794</td>
      <td>0.440616</td>
      <td>-0.491953</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.414861</td>
      <td>-0.487240</td>
      <td>-0.592794</td>
      <td>-0.272329</td>
      <td>-0.739530</td>
      <td>1.281446</td>
      <td>-0.265549</td>
      <td>0.556609</td>
      <td>-0.867024</td>
      <td>-0.986353</td>
      <td>-0.302794</td>
      <td>0.396035</td>
      <td>-1.207532</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.414270</td>
      <td>-0.487240</td>
      <td>-1.305586</td>
      <td>-0.272329</td>
      <td>-0.834458</td>
      <td>1.015298</td>
      <td>-0.809088</td>
      <td>1.076671</td>
      <td>-0.752178</td>
      <td>-1.105022</td>
      <td>0.112920</td>
      <td>0.415751</td>
      <td>-1.360171</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.410003</td>
      <td>-0.487240</td>
      <td>-1.305586</td>
      <td>-0.272329</td>
      <td>-0.834458</td>
      <td>1.227362</td>
      <td>-0.510674</td>
      <td>1.076671</td>
      <td>-0.752178</td>
      <td>-1.105022</td>
      <td>0.112920</td>
      <td>0.440616</td>
      <td>-1.025487</td>
    </tr>
  </tbody>
</table>
</div>

<p>This, of course, leads to data that falls out of our neat, [0:1] range</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">stand_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>min</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CRIM</th>
      <td>-0.417300</td>
      <td>9.931906</td>
    </tr>
    <tr>
      <th>ZN</th>
      <td>-0.487240</td>
      <td>3.800473</td>
    </tr>
    <tr>
      <th>INDUS</th>
      <td>-1.556302</td>
      <td>2.420170</td>
    </tr>
    <tr>
      <th>CHAS</th>
      <td>-0.272329</td>
      <td>3.664771</td>
    </tr>
    <tr>
      <th>NOX</th>
      <td>-1.464433</td>
      <td>2.729645</td>
    </tr>
    <tr>
      <th>RM</th>
      <td>-3.876413</td>
      <td>3.551530</td>
    </tr>
    <tr>
      <th>AGE</th>
      <td>-2.333128</td>
      <td>1.116390</td>
    </tr>
    <tr>
      <th>DIS</th>
      <td>-1.265817</td>
      <td>3.956602</td>
    </tr>
    <tr>
      <th>RAD</th>
      <td>-0.981871</td>
      <td>1.659603</td>
    </tr>
    <tr>
      <th>TAX</th>
      <td>-1.312691</td>
      <td>1.796416</td>
    </tr>
    <tr>
      <th>PTRATIO</th>
      <td>-2.704703</td>
      <td>1.637208</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-3.903331</td>
      <td>0.440616</td>
    </tr>
    <tr>
      <th>LSTAT</th>
      <td>-1.529613</td>
      <td>3.545262</td>
    </tr>
  </tbody>
</table>
</div>

<p>But does a&hellip; marginally better job at handling outliers</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">stand_df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span></code></pre></div>
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0xc6c7978&gt;
</code></pre>

<p><img src="standardization_26_1.png" alt="png" /></p>

<p>And forces each variable to follow a useful unit distribution with mean 0</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">stand_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>std</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CRIM</th>
      <td>1.144232e-16</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>ZN</th>
      <td>3.466704e-16</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>INDUS</th>
      <td>-3.016965e-15</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>CHAS</th>
      <td>3.999875e-16</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>NOX</th>
      <td>3.563575e-15</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>RM</th>
      <td>-1.149882e-14</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>AGE</th>
      <td>-1.158274e-15</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>DIS</th>
      <td>7.308603e-16</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>RAD</th>
      <td>-1.068535e-15</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>TAX</th>
      <td>6.534079e-16</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>PTRATIO</th>
      <td>-1.084420e-14</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>B</th>
      <td>8.117354e-15</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>LSTAT</th>
      <td>-6.494585e-16</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="using-scikit-learn">Using Scikit-Learn</h2>

<p>Of course, if we weren&rsquo;t interested in taking our <code>numpy</code> data, piping it into a <code>pandas.DataFrame</code>, doing our transformations, and then <code>.values</code>&lsquo;ing our way back to <code>numpy</code>, <code>sklearn</code> provides a useful class to handle this.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Again, for demonstration</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CRIM</th>
      <td>3.593761</td>
      <td>8.596783</td>
      <td>0.00632</td>
      <td>88.9762</td>
    </tr>
    <tr>
      <th>ZN</th>
      <td>11.363636</td>
      <td>23.322453</td>
      <td>0.00000</td>
      <td>100.0000</td>
    </tr>
    <tr>
      <th>INDUS</th>
      <td>11.136779</td>
      <td>6.860353</td>
      <td>0.46000</td>
      <td>27.7400</td>
    </tr>
    <tr>
      <th>CHAS</th>
      <td>0.069170</td>
      <td>0.253994</td>
      <td>0.00000</td>
      <td>1.0000</td>
    </tr>
    <tr>
      <th>NOX</th>
      <td>0.554695</td>
      <td>0.115878</td>
      <td>0.38500</td>
      <td>0.8710</td>
    </tr>
    <tr>
      <th>RM</th>
      <td>6.284634</td>
      <td>0.702617</td>
      <td>3.56100</td>
      <td>8.7800</td>
    </tr>
    <tr>
      <th>AGE</th>
      <td>68.574901</td>
      <td>28.148861</td>
      <td>2.90000</td>
      <td>100.0000</td>
    </tr>
    <tr>
      <th>DIS</th>
      <td>3.795043</td>
      <td>2.105710</td>
      <td>1.12960</td>
      <td>12.1265</td>
    </tr>
    <tr>
      <th>RAD</th>
      <td>9.549407</td>
      <td>8.707259</td>
      <td>1.00000</td>
      <td>24.0000</td>
    </tr>
    <tr>
      <th>TAX</th>
      <td>408.237154</td>
      <td>168.537116</td>
      <td>187.00000</td>
      <td>711.0000</td>
    </tr>
    <tr>
      <th>PTRATIO</th>
      <td>18.455534</td>
      <td>2.164946</td>
      <td>12.60000</td>
      <td>22.0000</td>
    </tr>
    <tr>
      <th>B</th>
      <td>356.674032</td>
      <td>91.294864</td>
      <td>0.32000</td>
      <td>396.9000</td>
    </tr>
    <tr>
      <th>LSTAT</th>
      <td>12.653063</td>
      <td>7.141062</td>
      <td>1.73000</td>
      <td>37.9700</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">scaler</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span></code></pre></div>
<pre><code>StandardScaler(copy=True, with_mean=True, with_std=True)
</code></pre>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">))</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">[[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]]</span></code></pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6.340997e-17</td>
      <td>1.00099</td>
      <td>-0.417713</td>
      <td>9.941735</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-6.343191e-16</td>
      <td>1.00099</td>
      <td>-0.487722</td>
      <td>3.804234</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-2.682911e-15</td>
      <td>1.00099</td>
      <td>-1.557842</td>
      <td>2.422565</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.701992e-16</td>
      <td>1.00099</td>
      <td>-0.272599</td>
      <td>3.668398</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.490322e-15</td>
      <td>1.00099</td>
      <td>-1.465882</td>
      <td>2.732346</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-1.145230e-14</td>
      <td>1.00099</td>
      <td>-3.880249</td>
      <td>3.555044</td>
    </tr>
    <tr>
      <th>6</th>
      <td>-1.407855e-15</td>
      <td>1.00099</td>
      <td>-2.335437</td>
      <td>1.117494</td>
    </tr>
    <tr>
      <th>7</th>
      <td>9.210902e-16</td>
      <td>1.00099</td>
      <td>-1.267069</td>
      <td>3.960518</td>
    </tr>
    <tr>
      <th>8</th>
      <td>5.441409e-16</td>
      <td>1.00099</td>
      <td>-0.982843</td>
      <td>1.661245</td>
    </tr>
    <tr>
      <th>9</th>
      <td>-8.868619e-16</td>
      <td>1.00099</td>
      <td>-1.313990</td>
      <td>1.798194</td>
    </tr>
    <tr>
      <th>10</th>
      <td>-9.205636e-15</td>
      <td>1.00099</td>
      <td>-2.707379</td>
      <td>1.638828</td>
    </tr>
    <tr>
      <th>11</th>
      <td>8.163101e-15</td>
      <td>1.00099</td>
      <td>-3.907193</td>
      <td>0.441052</td>
    </tr>
    <tr>
      <th>12</th>
      <td>-3.370163e-16</td>
      <td>1.00099</td>
      <td>-1.531127</td>
      <td>3.548771</td>
    </tr>
  </tbody>
</table>
</div>

</div>
  <aside>
      <div class="bug_reporting">
          <h4>Find an error or bug?</h4>
          <p>Everything on this site is available on GitHub. Head to <a href='https://github.com/napsterinblue/notes/issues/new'>and submit a suggested change</a>. You can also message me directly on <a href='https://twitter.com/napsterinblue'>Twitter</a>.</p>
      </div>
      </aside>

    </div>
</article>




            </div>

        </div>
    </div>

    

    <footer class="footer text-center">
        <div class="container">
            <span class="text-muted">This project contains 113 pages and is available on <a href="https://github.com/napsterinblue/notes">GitHub</a>. Copyright &copy; NapsterInBlue, <time datetime="2018">2018</time>.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>

</body>

</html>
